{"ast":null,"code":"import _classCallCheck from \"/home/spranga/Dev/tron-war-bot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/spranga/Dev/tron-war-bot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/spranga/Dev/tron-war-bot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/spranga/Dev/tron-war-bot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/spranga/Dev/tron-war-bot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/spranga/Dev/tron-war-bot/src/components/History.js\";\nimport React from \"react\";\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\nimport axios from 'axios';\nvar maxStringLength = 20;\n\nvar History =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(History, _React$Component);\n\n  function History(props) {\n    var _this;\n\n    _classCallCheck(this, History);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(History).call(this, props));\n    _this.state = {\n      bets: []\n    };\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:4000/bets/').then(function (response) {\n        _this2.setState({\n          bets: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this3 = this;\n\n      axios.get('http://localhost:4000/bets/').then(function (response) {\n        _this3.setState({\n          bets: response.data\n        });\n\n        _this3.render();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Card, {\n        small: true,\n        className: \"mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"m-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"History\")), React.createElement(CardBody, {\n        className: \"p-0 pb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Bet\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Nation\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.state.bets.slice(this.state.bets.length - 5, this.state.bets.length).reverse().map(function (bet, i) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, bet.address.length < maxStringLength ? bet.address : bet.address.substring(0, maxStringLength - 3).concat('...')), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, bet.amount), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, bet.state));\n      }))))))));\n    }\n  }]);\n\n  return History;\n}(React.Component);\n\nexport default History;","map":{"version":3,"sources":["/home/spranga/Dev/tron-war-bot/src/components/History.js"],"names":["React","Container","Row","Col","Card","CardHeader","CardBody","axios","maxStringLength","History","props","state","bets","get","then","response","setState","data","catch","error","console","log","render","slice","length","reverse","map","bet","i","address","substring","concat","amount","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\n\nimport axios from 'axios'\n\nconst maxStringLength = 20\n\nclass History extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {bets: []};\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/bets/')\n      .then(response => {\n          this.setState({ bets: response.data });\n      })\n      .catch(function (error){\n          console.log(error);\n      })\n  }\n\n  update(){\n    axios.get('http://localhost:4000/bets/')\n      .then(response => {\n          this.setState({ bets: response.data });\n          this.render();\n      })\n      .catch(function (error){\n          console.log(error);\n      })\n  }\n\n  render(){\n    return(\n      <Container fluid className=\"main-content-container px-4\">\n\n        {/* Default Light Table */}\n        <Row>\n          <Col>\n            <Card small className=\"mb-4\">\n              <CardHeader className=\"border-bottom\">\n                <h6 className=\"m-0\">History</h6>\n              </CardHeader>\n              <CardBody className=\"p-0 pb-3\">\n                <table className=\"table mb-0\">\n                  <thead className=\"bg-light\">\n                    <tr>\n                      <th scope=\"col\" className=\"border-0\">\n                        Address\n                      </th>\n                      <th scope=\"col\" className=\"border-0\">\n                        Bet\n                      </th>\n                      <th scope=\"col\" className=\"border-0\">\n                        Nation\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                {/* show just the last five*/}\n                    {this.state.bets.slice(this.state.bets.length - 5, this.state.bets.length).reverse().map((bet, i) =>\n                     (\n                        <tr>\n                          <td>{bet.address.length < maxStringLength ? bet.address : bet.address.substring(0,maxStringLength-3).concat('...')}</td>\n                          <td>{bet.amount}</td>\n                          <td>{bet.state}</td>\n                        </tr>\n                      )\n                    )}\n                  </tbody>\n                </table>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    )\n  }\n}\n\nexport default History;\n"]},"metadata":{},"sourceType":"module"}